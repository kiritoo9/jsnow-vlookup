"use strict"; !function (a) { function t(e, i, l, s = null) { var o = ""; l.forEach((a, t) => { t < parseInt(i.limit) && (o += "<tr>", Object.keys(a).forEach(e => { o += '<td style="font-size: 13px" data-index="' + t + '">' + a[e] + "</td>" }), o += "</tr>") }), a("#jsnow-vlookup-append").html(o), function (t, e, i) { a("#" + t).find(a("table > tbody > tr").css({ cursor: "pointer" }).bind("click", l => { const s = i[a(l.target).data("index")]; if (null != s) { let i = "default" == e.key ? s[Object.keys(s)[0]] : s[e.key]; a("#" + t).val(i, toString()), a("#modal-" + t).modal("hide") } })) }(e, i, l), function (e, i, l, s) { '<nav style="float:right">', '<ul class="pagination">', '<li data-id="previous" class="page-item" id="jsnow-vlookup-firstpage">', '<a href="#" class="page-link">Previous</a>', "</li>", '<li data-id="next" class="page-item" id="jsnow-vlookup-lastpage">', '<a href="#" class="page-link">Next</a>', "</li>", "</ul>", "</nav>", a("#modal-" + e).find(a("nav").remove()).find(a("table").after('<nav style="float:right"><ul class="pagination"><li data-id="previous" class="page-item" id="jsnow-vlookup-firstpage"><a href="#" class="page-link">Previous</a></li><li data-id="next" class="page-item" id="jsnow-vlookup-lastpage"><a href="#" class="page-link">Next</a></li></ul></nav>')).find(a(".page-link").css({ fontSize: "13px" })), function (e, i, l, s) { var o = 0, d = s ? i.data : l; d.length > 0 && parseInt(i.limit) > 0 && (o = Math.ceil(d.length / parseInt(i.limit))); var n = ""; s = s || 1; for (var r = !1, c = 1; c <= o; c++)s - 1 >= 2 && !r && (r = !0, n += '<li class="page-item disabled"><a style="font-size:13px" class="page-link" href="#">...</a></li>'), c != s && c != s - 1 && c != s + 1 || (n += '<li data-id="' + c + '" class="page-item ' + (s == c ? "active" : "") + '"><a class="page-link" style="font-size:13px" href="javascript:void(0)">' + c + "</a></li>"); s < o - 1 && (n += '<li class="page-item disabled"><a style="font-size:13px" class="page-link" href="#">...</a></li>'); a("#modal-" + e).find(a("li").each((t, e) => { "jsnow-vlookup-firstpage" != a(e).attr("id") && "jsnow-vlookup-lastpage" != a(e).attr("id") && a(e).remove() })), a("#modal-" + e).find(a("li.page-item:first-child").after(n)).find(a(".page-item").bind("click", l => { if (a(l.target).hasClass("disabled")) return; a(".page-item").each((t, e) => { a(e).removeClass("active") }), a(l.target).parent().addClass("active"); let d = a(l.target).parent().data("id"); if (null != d) { "previous" == d ? d = s > 1 ? s - 1 : 1 : "next" == d && (d = s < o ? s + 1 : o); var n = [], r = i.limit * d - i.limit; i.data.forEach((a, t) => { t + 1 > r && n.length < i.limit && n.push(a) }), t(e, i, n, d) } })) }(e, i, l, s) }(e, i, l, s) } a.fn.jsnowlookup = function (e) { var i = a.extend({ title: "Jsnow Vlookup", search: !0, limit: 10, key: "default", data: [] }, e); if (i.data.length > 0) { const e = a(this).attr("id"); a(this).css({ cursor: "pointer" }).attr("readonly", !0).bind("click", l => { !function (e, i) { var l = "", s = i.data.length > 5 ? "modal-lg" : ""; l += '<div class="modal fade" id="modal-' + e + '">', l += '<div class="modal-dialog ' + s + '">', l += '<div class="modal-content">', l += '<div class="modal-header">', l += '<h4 class="modal-title">' + i.title + "</h4>", l += '<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>', l += "</div>", l += '<div class="modal-body">', l += '<div class="form-group jsnow-vlookup-search">', l += '<input type="text" style="font-size:13px" class="form-control" placeholder="Search..">', l += "</div>", l += '<table class="table table-bordered table-hover">', l += "<thead>", l += "<tr>", Object.keys(i.data[0]).forEach(a => { l += '<th style="font-size: 13px;">' + a.toUpperCase() + "</th>" }), l += "</tr>", l += "</thead>", l += '<tbody id="jsnow-vlookup-append"></tbody>', l += "</table>", l += "</div>", l += '<div class="modal-footer">', l += '<button style="font-size:13px" type="button" class="btn btn-danger" data-dismiss="modal">Cancel!</button>', l += "</div>", l += "</div>", l += "</div>", l += "</div>", a("#modal-" + e).length <= 0 && (a("#" + e).after(l), t(e, i, i.data), a("#modal-" + e).find(a("div.jsnow-vlookup-search").css({ width: "50%", float: "right" }).bind("keyup", a => { var l = []; i.data.forEach(t => { var e = !0; Object.keys(t).forEach(i => { t[i].toString().toUpperCase().indexOf(a.target.value.toUpperCase()) > -1 && (e = !1) }), e || l.push(t) }), t(e, i, l) }))); a("#modal-" + e).modal("show") }(e, i) }) } else console.warn("You dont have any data yet!") } }(jQuery);